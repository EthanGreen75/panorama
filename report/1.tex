% File: 1.tex
% Date: Fri May 03 00:59:22 2013 +0800
% Author: Yuxin Wu <ppwwyyxxc@gmail.com>
\section{Usage}
\subsection{Compilation}
Dependencies:

\begin{enumerate}
    \item gcc >= 4.7
    \item GNU make
    \item Magick++
    \item boost MTL (Matrix Template Library) installed in /usr/include/boost/numeric/
\end{enumerate}

Compilation:
\begin{lstlisting}
$ make
[dep] filter.cc ...
[dep] matrix.cc ...
[dep] main.cc ...
[dep] panorama.cc ...
[dep] gallery.cc ...
[dep] sift.cc ...
[dep] debugutils.cc ...
[dep] color.cc ...
[dep] cylinder.cc ...
[dep] keypoint.cc ...
[dep] matcher.cc ...
[dep] config.cc ...
[dep] image.cc ...
[dep] planedrawer.cc ...
[dep] transformer.cc ...
[dep] utils.cc ...
[cc] utils.cc ...
[cc] transformer.cc ...
[cc] planedrawer.cc ...
[cc] image.cc ...
[cc] config.cc ...
[cc] matcher.cc ...
[cc] keypoint.cc ...
[cc] cylinder.cc ...
[cc] color.cc ...
[cc] debugutils.cc ...
[cc] sift.cc ...
[cc] gallery.cc ...
[cc] panorama.cc ...
[cc] main.cc ...
[cc] matrix.cc ...
[cc] filter.cc ...
Linking ...
done.
\end{lstlisting}

\subsection{Run}
Various parameters are saved in \verb|config.cfg|.
Without special needs, we only have to modify \verb|PANO, TRANS, CROP|.

The program does some extra work to beautify the output
if knowing the input pictures were took by a camera
moving in pure translation or pure rotation.

\verb|PANO = 1| tells that the camera moved in pure rotation. A panorama is expected to be the output;

\verb|TRANS = 1| tells that the camera moved in pure translation. Result will be better than the one with \verb|TRANS| unset;

\verb|CROP| decides whether to crop the final image to a rectangular;

Use \verb|./main <file1> <file2> <file3> ...| in the command line to run the program.
Output file is \verb|out.png|.

Usually, input images should not exeeds $20(files)\times 1500(pixels) \times 1000(pixels)$, since your computer may not have enough memory.

为了效率,

\subsection{Examples}
\begin{enumerate}
    \item NORMAL
\begin{lstlisting}
$ ./main ../data/tree/small*
\end{lstlisting}

\item TRANSLATION
  \begin{lstlisting}
$ ./main ../data/flower/small*
  \end{lstlisting}

  \item PANORAMA
    \begin{lstlisting}
$ ./main ../data/ground/small*
    \end{lstlisting}
\end{enumerate}
